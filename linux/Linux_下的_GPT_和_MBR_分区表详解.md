
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a7d327f1dccf4d8f9cc0bdeafff7cd4c.png)



### Linux 下的 GPT 和 MBR 分区表详解

在安装 Linux 或配置存储设备时，分区表格式是一个需要重点考虑的问题。GPT（GUID Partition Table）和 MBR（Master Boot Record）是两种常见的分区表格式，各自具有不同的特点和应用场景。本文将详细介绍它们的区别、优缺点以及在 Linux 系统中的使用方法。

------

#### 一、分区表的作用

分区表是存储设备（如硬盘、SSD）上的一种结构化数据，用于描述存储设备上分区的布局和属性。它定义了每个分区的起始位置、大小、类型以及其他元信息。

------

#### 二、MBR（Master Boot Record）

MBR 是传统的分区表格式，自 1983 年诞生以来一直被广泛使用。

##### 1. **特点**

- **支持设备大小**：最多支持 2TB 的存储设备。
- **分区数量**：最多支持 4 个主分区；通过扩展分区和逻辑分区的方式，可以突破这个限制。
- **分区标识**：使用 32 位地址来描述分区的起始和结束位置。
- **启动记录**：MBR 位于磁盘的第一个扇区，同时存储引导加载器（Boot Loader）。

##### 2. **优点**

- 历史悠久，兼容性广泛。
- 在老旧的 BIOS 系统中仍然是主流选择。

##### 3. **缺点**

- 设备容量限制为 2TB。
- 分区数量限制为 4 个主分区。
- 没有冗余备份，一旦 MBR 损坏，整个磁盘的分区信息可能丢失。

##### 4. **适用场景**

- 老旧硬件或 BIOS 系统。
- 小于 2TB 的存储设备。

------

#### 三、GPT（GUID Partition Table）

GPT 是 UEFI（Unified Extensible Firmware Interface）的分区表标准，是 MBR 的升级版本。

##### 1. **特点**

- **支持设备大小**：支持最大 9.4ZB（约 1 万亿 TB）的存储设备。
- **分区数量**：理论上支持无限多个分区，通常限制为 128 个。
- **分区标识**：每个分区都有唯一的 GUID（全球唯一标识符）。
- **冗余备份**：分区表在磁盘开头和结尾都有备份，提高了可靠性。

##### 2. **优点**

- 支持更大的存储设备。
- 支持更多分区，无需扩展分区和逻辑分区。
- 分区表有备份，数据安全性更高。
- 与 UEFI 固件完美配合，支持更快的启动速度。

##### 3. **缺点**

- 老旧的 BIOS 系统可能不支持 GPT。
- 与 MBR 相比，设置稍复杂。

##### 4. **适用场景**

- 大于 2TB 的存储设备。
- 需要多个分区。
- 使用现代硬件和 UEFI 系统。

------

#### 四、GPT 和 MBR 的对比

| 特性         | MBR                          | GPT                       |
| ------------ | ---------------------------- | ------------------------- |
| 最大支持容量 | 2TB                          | 9.4ZB                     |
| 最大分区数量 | 4 个主分区（扩展分区可增加） | 理论无限（通常为 128 个） |
| 分区表备份   | 无备份                       | 开头和结尾都有备份        |
| 启动模式     | BIOS                         | UEFI                      |
| 数据安全性   | 较低                         | 较高                      |
| 支持的硬件   | 老旧硬件                     | 现代硬件                  |

------

#### 五、在 Linux 中选择和使用 GPT 或 MBR

##### 1. **如何选择分区表格式**

- 如果你的存储设备小于 2TB，且设备是 BIOS 模式，可以选择 MBR。
- 如果你的存储设备大于 2TB，或需要更多的分区，推荐选择 GPT。

##### 2. **使用工具创建分区表**

Linux 提供了多种工具来创建和管理分区表：

- **`fdisk`**：适用于 MBR 格式。
- **`parted`**：支持 GPT 和 MBR，功能更强大。
- **`gdisk`**：专门用于 GPT 分区表的工具。

##### 3. **示例操作**

**查看当前磁盘分区表**

```
lsblk
sudo fdisk -l
```

**创建 GPT 分区表**

```
sudo parted /dev/sdX mklabel gpt
```

**创建 MBR 分区表**

```
sudo parted /dev/sdX mklabel msdos
```

------

#### 六、总结

- MBR 作为传统的分区表格式，兼容性好，但存在容量和分区数量限制，适合老旧设备。
- GPT 是现代分区表的标准，功能更强大、安全性更高，适合现代硬件和大容量存储设备。
- 在 Linux 系统中，根据实际需求和硬件条件选择合适的分区表格式，能更好地利用存储设备。

通过合理选择和配置 GPT 或 MBR，可以最大化存储性能，确保数据安全性，满足不同的使用场景需求。
