![](https://img-blog.csdnimg.cn/c291995af7d647548f7dc90176b435a0.png)




## 1. å‰è¨€
`windows terminal` ç›¸æ¯”å…¶ä»–ç»ˆç«¯æ›´åŠ ç¾è§‚ã€ç®€æ´ï¼Œè€Œä¸”å®ƒçš„å¼€æ”¾æ€§ä½¿ä½ å¯ä»¥è‡ªç”±çš„é…ç½®å®šåˆ¶ç»ˆç«¯çš„é£æ ¼ï¼Œå®ƒå……æ»¡ç°ä»£åŒ–çš„ç•Œé¢ã€å®Œæ•´çš„å­—ä½“å­—ç¬¦æ¸²æŸ“æœºåˆ¶ï¼ˆåŒ…æ‹¬ `Emoji`ï¼‰ã€GPU åŠ é€Ÿå’Œ Fluent è®¾è®¡é£æ ¼ç­‰ç­‰ï¼Œå¦‚æœä½ å°Šå´‡`ç®€çº¦`ã€`å”¯ç¾`å´ä¸å¤±ä¸°å¯Œçš„è½¯ä»¶å·¥å…·ï¼Œ`windows terminal` å€¼å¾—ä½ å»å…³æ³¨å®ƒï¼

å†ç»ä¸¤å¤©ï¼Œæˆ‘å­¦ä¹ å®Œæˆäº†æ¥è‡ªæ—¥æœ¬çš„[Takuya ğŸ¾ devaslife](https://blog.inkdrop.app/)ï¼ˆç‹¬ç«‹å¼€å‘è€…ã€æ²¹ç®¡åšä¸»ï¼‰çš„è§†é¢‘å†…å®¹ï¼š[How to set up PowerShell prompt with Oh My Posh on Windows 11](https://www.youtube.com/watch?v=5-aK2_WwrmM&t=1152s)ï¼Œå¹¶å¯¹æ­¤è®°å½•äº†å…³äºå®è·µ `windows terminal` çš„å­¦ä¹ ç¬”è®°ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚

![](https://img-blog.csdnimg.cn/0b2ba852959b4856b3ce7024a951939c.png)
![](https://img-blog.csdnimg.cn/86c8780f96d4461da030a208b63dedbd.png)
`Takuya`ä½¿ç”¨çš„æ˜¯[min](https://minbrowser.org/) æµè§ˆå™¨ï¼Œæˆ‘ä¹Ÿä¸‹è½½ä½“éªŒäº†ä¸€ç•ªï¼Œç¡®å®å°å·§ã€ç®€æ´ã€‚
![](https://img-blog.csdnimg.cn/c243d9b681fb4554803f189e0bb572c2.png)
## 2. å®‰è£… Windows Terminal
ç›´æ¥ä» `Microsoft Store` å®‰è£…[Windows Terminal](https://github.com/microsoft/terminal)å³å¯ã€‚


å¦‚æœä½ åˆšåˆšå®‰è£…å®Œæˆï¼Œæƒ³è¦å¿«é€Ÿå¯¹å®ƒæœ‰ä¸€ä¸ªå¿«é€Ÿå…¥é—¨çš„äº†è§£ï¼Œé™¤äº†ç¿»é˜…å®˜ç½‘[Windows Terminal Docs](https://learn.microsoft.com/en-us/windows/terminal/)ï¼Œä½ è¿˜å¯ä»¥ä»æˆ‘çš„åšå®¢æµè§ˆç®€å•çš„[Windows Terminal ç•Œé¢è®¾ç½®](https://blog.csdn.net/xixihahalelehehe/article/details/127839905)ä»¥åŠ[Windows Terminal å¿«æ·é”®](https://blog.csdn.net/xixihahalelehehe/article/details/127839881)ã€‚

## 3. å®‰è£… nerd-fonts
[ryanoasis/nerd-fonts](https://github.com/ryanoasis/nerd-fonts)æ˜¯ä¸€ä¸ªç”¨å¤§é‡å­—å½¢ï¼ˆå›¾æ ‡ï¼‰ä¿®è¡¥å¼€å‘äººå‘˜ç›®æ ‡å­—ä½“çš„é¡¹ç›®ã€‚ç‰¹åˆ«æ˜¯ä»æµè¡Œçš„â€œæ ‡å¿—æ€§å­—ä½“â€ï¼ˆå¦‚Font Awesomeã€Deviconsã€Octiconsç­‰ï¼‰æ·»åŠ å¤§é‡é¢å¤–[å­—å½¢](https://github.com/ryanoasis/nerd-fonts#glyph-sets)ã€‚

æˆ‘ä»¬ä¸‹è½½è¿™ä¸ª`Hack`ç‰ˆæœ¬
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/a3b7eff30c864589b785f141d695745f.png)

![](https://img-blog.csdnimg.cn/9e50c560afad4f199e30dc9f5fc858ae.png)
æ‰“å¼€å®‰è£…
![](https://img-blog.csdnimg.cn/0ed05731739a4a2e885231fbfa85f132.png)
é…ç½®æœ€æ–°å­—ä½“
![](https://img-blog.csdnimg.cn/39a697a27bab4d019862bfae909afe3e.png)
å¦‚ä¸è¿™æ ·åšï¼Œåé¢åœ¨å®‰è£…`oh-my-posh`åï¼Œä¼šå‡ºç°ä¹±ç ã€‚



## 4. Microsoft store å®‰è£… powershell
`PowerShell` å¹¶é `Windows PowerShell`ï¼Œå®ƒä»¬å­˜åœ¨ä¸€å®šçš„å·®åˆ«ï¼Œè¯¦æƒ…è¯·å‚è€ƒï¼š

-  [Differences between Windows PowerShell 5.1 and PowerShell 7.x](https://learn.microsoft.com/en-us/powershell/scripting/whats-new/differences-from-windows-powershell?view=powershell-7.3)

æˆ‘ä»¬å®‰è£…æœ€æ–°çš„ `Powershell`

![](https://img-blog.csdnimg.cn/edc5407380224875b922b2c9d3ff336f.png)
 æŸ¥çœ‹å·²å®‰è£…æˆåŠŸ![](https://img-blog.csdnimg.cn/8fbdeec8629a40c684b7f9b28012596c.png)
![](https://img-blog.csdnimg.cn/d6fdfeb2c4df450bb4a06b33553a777b.png)
ä¿®æ”¹å¯åŠ¨é…ç½®ä¸º`powershell`
![](https://img-blog.csdnimg.cn/2ebb1942a3f04c41ac2874cc5aab6e1a.png)

## 5. æ”¹å˜ç»ˆç«¯èƒŒæ™¯é¢œè‰²
æ‰“å¼€é…ç½®æ–‡ä»¶`setting.json`
ç»å¯¹è·¯å¾„ï¼š`%LOCALAPPDATA%\Packages\Microsoft.WindowsTerminal_8wekyb3d8bbwe\LocalState\settings.json`

![](https://img-blog.csdnimg.cn/c3496d1a99b047e3a57ccb9a99cd1609.png)


å¤åˆ¶ä¸€ä»½`One Half Dark` çš„èƒŒæ™¯é…ç½®å¹¶ä¿®æ”¹
```bash
        {
            "background": "#001B26",  #ä¿®æ”¹
            "black": "#282C34",
            "blue": "#61AFEF",
            "brightBlack": "#5A6374",
            "brightBlue": "#61AFEF",
            "brightCyan": "#56B6C2",
            "brightGreen": "#98C379",
            "brightPurple": "#C678DD",
            "brightRed": "#E06C75",
            "brightWhite": "#DCDFE4",
            "brightYellow": "#E5C07B",
            "cursorColor": "#FFFFFF",
            "cyan": "#56B6C2",
            "foreground": "#DCDFE4",
            "green": "#98C379",
            "name": "One Half Dark (modded)", #ä¿®æ”¹
            "purple": "#C678DD",
            "red": "#E06C75",
            "selectionBackground": "#FFFFFF",
            "white": "#DCDFE4",
            "yellow": "#E5C07B"
        },
        {
            "background": "#282C34",
            "black": "#282C34",
            "blue": "#61AFEF",
            "brightBlack": "#5A6374",
            "brightBlue": "#61AFEF",
            "brightCyan": "#56B6C2",
            "brightGreen": "#98C379",
            "brightPurple": "#C678DD",
            "brightRed": "#E06C75",
            "brightWhite": "#DCDFE4",
            "brightYellow": "#E5C07B",
            "cursorColor": "#FFFFFF",
            "cyan": "#56B6C2",
            "foreground": "#DCDFE4",
            "green": "#98C379",
            "name": "One Half Dark",
            "purple": "#C678DD",
            "red": "#E06C75",
            "selectionBackground": "#FFFFFF",
            "white": "#DCDFE4",
            "yellow": "#E5C07B"
        },
```
![](https://img-blog.csdnimg.cn/01492a2ea8314fb9841595487dabf7d2.png)
## 6. å®‰è£… scoop
å®˜ç½‘ï¼š[https://scoop.sh/](https://scoop.sh/)
ä¸€ä¸ªä¸º`windows`è€Œç”Ÿçš„å‘½ä»¤è¡Œå®‰è£…å·¥å…·ã€‚

```bash
PS C:\Users\XH> iwr -useb get.scoop.sh | iex
Initializing...
Downloading...
Extracting...
Creating shim...
Adding ~\scoop\shims to your path.
Scoop was installed successfully!
Type 'scoop help' for instructions.
PS C:\Users\XH> scoop install curl sudo jq
Installing '7zip' (22.01) [64bit] from main bucket
7z2201-x64.msi (1.8 MB) [=====================================================================================] 100%
Checking hash of 7z2201-x64.msi ... ok.
Extracting 7z2201-x64.msi ... done.
Linking ~\scoop\apps\7zip\current => ~\scoop\apps\7zip\22.01
Creating shim for '7z'.
Creating shim for '7zFM'.
Creating shim for '7zG'.
Creating shortcut for 7-Zip (7zFM.exe)
Persisting Codecs
Persisting Formats
Running post_install script...
'7zip' (22.01) was installed successfully!
Notes
-----
Add 7-Zip as a context menu option by running: "C:\Users\XH\scoop\apps\7zip\current\install-context.reg"
Installing 'curl' (7.86.0_2) [64bit] from main bucket
curl-7.86.0_2-win64-mingw.tar.xz (6.0 MB) [===================================================================] 100%
Checking hash of curl-7.86.0_2-win64-mingw.tar.xz ... ok.
Extracting curl-7.86.0_2-win64-mingw.tar.xz ... done.
Linking ~\scoop\apps\curl\current => ~\scoop\apps\curl\7.86.0_2
Creating shim for 'curl'.
'curl' (7.86.0_2) was installed successfully!
Installing 'jq' (1.6) [64bit] from main bucket
jq-win64.exe (3.4 MB) [=======================================================================================] 100%
Checking hash of jq-win64.exe ... ok.
Linking ~\scoop\apps\jq\current => ~\scoop\apps\jq\1.6
Creating shim for 'jq'.
'jq' (1.6) was installed successfully!
Installing 'sudo' (0.2020.01.26) [64bit] from main bucket
sudo.ps1 (2.2 KB) [===========================================================================================] 100%
Checking hash of sudo.ps1 ... ok.
Linking ~\scoop\apps\sudo\current => ~\scoop\apps\sudo\0.2020.01.26
Creating shim for 'sudo'.
'sudo' (0.2020.01.26) was installed successfully!
'jq' suggests installing 'jid'.

#æµ‹è¯•
PS C:\Users\XH> curl 'https://api.inkdrop.app/' | jq .
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    11  100    11    0     0      6      0  0:00:01  0:00:01 --:--:--     6
{
  "ok": true
}
```
## 7. å®‰è£… git
å³ä¾¿ä½ å·²ç»å®‰è£…ï¼Œå®ƒä¹Ÿä¼šè‡ªåŠ¨å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
```bash
PS C:\Users\XH> git version
git version 2.25.0.windows.1
PS C:\Users\XH> winget install -e --id Git.Git
å·²æ‰¾åˆ° Git [Git.Git] ç‰ˆæœ¬ 2.38.1
æ­¤åº”ç”¨ç¨‹åºç”±å…¶æ‰€æœ‰è€…æˆæƒç»™ä½ ã€‚
Microsoft å¯¹ç¬¬ä¸‰æ–¹ç¨‹åºåŒ…æ¦‚ä¸è´Ÿè´£ï¼Œä¹Ÿä¸å‘ç¬¬ä¸‰æ–¹ç¨‹åºåŒ…æˆäºˆä»»ä½•è®¸å¯è¯ã€‚
Downloading https://github.com/git-for-windows/git/releases/download/v2.38.1.windows.1/Git-2.38.1-64-bit.exe
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  50.8 MB / 50.8 MB
å·²æˆåŠŸéªŒè¯å®‰è£…ç¨‹åºå“ˆå¸Œ
æ­£åœ¨å¯åŠ¨ç¨‹åºåŒ…å®‰è£…...
å·²æˆåŠŸå®‰è£…

PS C:\Users\XH> git version
git version 2.38.1.windows.1
```

## 8. å®‰è£… Neovim
[Neovim](https://neovim.io/) æ˜¯ä¸€ä¸ªæ—¨åœ¨ç§¯æé‡æ„ [Vim](https://www.vim.org/) çš„ç°ä»£åŒ–çš„ç¼–è¾‘å™¨ã€‚
```bash
PS C:\Users\XH> scoop install neovim gcc
Installing 'gcc' (11.2.0) [64bit] from main bucket
components-18.0.7z (96.4 MB) [================================================================================] 100%
Checking hash of components-18.0.7z ... ok.
Extracting components-18.0.7z ... done.
Running pre_install script...
Linking ~\scoop\apps\gcc\current => ~\scoop\apps\gcc\11.2.0
'gcc' (11.2.0) was installed successfully!
Installing 'neovim' (0.8.0) [64bit] from main bucket
nvim-win64.zip (42.3 MB) [====================================================================================] 100%
Checking hash of nvim-win64.zip ... ok.
Extracting nvim-win64.zip ... done.
Linking ~\scoop\apps\neovim\current => ~\scoop\apps\neovim\0.8.0
Creating shim for 'nvim'.
Creating shim for 'nvim-qt'.
Creating shortcut for Neovim (nvim-qt.exe)
'neovim' (0.8.0) was installed successfully!
'neovim' suggests installing 'extras/vcredist2022'.
```

```bash
PS C:\Users\XH> nvim
```
è¾“å‡ºï¼š
![](https://img-blog.csdnimg.cn/ff191614afd5483eaf71202b3c812261.png)

```bash
PS C:\Users\XH> mkdir .config/powershell

    Directory: C:\Users\XH\.config

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d----          2022-11-15    23:12                powershell

```
## 9. è®¾ç½®åˆ«å

```bash

PS C:\Users\XH> nvim .\.config\powershell\user_profile.ps1
# Alias
Set-Alias vim nvim
Set-Alias ll ls
Set-Alias g git
Set-Alias grep findstr
Set-Alias tig 'D:\install\\Git\usr\bin\tig.exe'
Set-Alias less 'D:\install\Git\usr\bin\less.exe'


#å˜é‡å¯å›è½¦
PS C:\Users\XH> nvim $PROFILE.CurrentUserCurrentHost
. $env:USERPROFILE\.config\powershell\user_profile.ps1
```
ä¼šåœ¨`C:\Users\XH\Documents\PowerShell`åˆ›å»º`Microsoft.PowerShell_profile.ps1`,å¦‚æœæ²¡æœ‰`C:\Users\XH\Documents\PowerShell`æ‰‹åˆ›å³å¯ã€‚

æµ‹è¯•åˆ«å

```bash
PS C:\Users\XH> ll

    Directory: C:\Users\XH

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d----          2020-07-01     0:08                .atom
d----          2020-06-27    23:23                .bundle
d----          2022-11-15    23:12                .config
d----          2020-05-19    16:03                .dlv
d----          2022-08-29     8:35                .docker
d----          2020-06-27    22:39                .gem
d----          2022-01-19    17:48                .gitbook
d----          2020-05-14    14:17                .idea
d----          2022-08-25    16:02                .local
d----          2022-05-27    23:11                .matplotlib
d----          2021-12-04     0:00                .openshot_qt
d----          2019-10-25    14:48                .PyCharm2018.2
d----          2021-12-15    20:48                .pylint.d
d----          2020-02-06    16:10                .ssh
d----          2022-05-04     2:04                .vim
d----          2021-12-15    20:17                .virtualenvs
d----          2022-05-03    19:48                .vscode
d-r--          2020-10-22    11:17                3D Objects
d-r--          2020-10-22    11:17                Contacts
d-r--          2022-11-15    18:52                Desktop
d-r--          2022-11-15    23:34                Documents
d-r--          2022-11-13    21:37                Downloads
d-r--          2020-10-22    11:17                Favorites
d-r--          2022-06-18     3:10                iCloudDrive
d-r--          2022-06-18     3:10                Links
d-r--          2020-10-22    11:17                Music
lar--          2022-08-25     8:17                OneDrive
d----          2019-10-24    17:02                OpenVPN
d-r--          2022-10-28    12:32                Pictures
d----          2020-05-11    15:49                PycharmProjects
d----          2019-08-21    13:21                Roaming
d-r--          2020-10-22    11:17                Saved Games
d----          2022-11-15    18:28                scoop
d-r--          2020-10-22    11:17                Searches
d----          2021-07-23    15:44                simple-todo
d-r--          2021-11-12    23:11                Videos
-a---          2022-08-25    17:05          12675 .bash_history
-a---          2020-06-27    22:54            155 .gemrc
-a---          2022-05-22     2:48            220 .git-credentials
-a---          2022-11-15     0:16            302 .gitconfig
-a---          2021-11-18    23:04             28 .node_repl_history
-a---          2022-05-09    17:10              2 .notion-enhancer
-a---          2022-05-22     2:47          16940 .viminfo
-a---          2020-01-08    15:56          32222 java_error_in_pycharm_17300.log


PS C:\Users\XH> ll | less
    Directory: C:\Users\XH

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d----          2020-07-01     0:08                .atom
d----          2020-06-27    23:23                .bundle
d----          2022-11-15    23:12                .config
d----          2020-05-19    16:03                .dlv
d----          2022-08-29     8:35                .docker
d----          2020-06-27    22:39                .gem
d----          2022-01-19    17:48                .gitbook
d----          2020-05-14    14:17                .idea
d----          2022-08-25    16:02                .local
d----          2022-05-27    23:11                .matplotlib
d----          2021-12-04     0:00                .openshot_qt
d----          2019-10-25    14:48                .PyCharm2018.2
d----          2021-12-15    20:48                .pylint.d
d----          2020-02-06    16:10                .ssh
d----          2022-05-04     2:04                .vim
d----          2021-12-15    20:17                .virtualenvs
d----          2022-05-03    19:48                .vscode
d-r--          2020-10-22    11:17                3D Objects
d-r--          2020-10-22    11:17                Contacts
d-r--          2022-11-15    18:52                Desktop
d-r--          2022-11-15    23:34                Docu
```

## 10. å®‰è£… oh My Posh

[Oh my posh](https://ohmyposh.dev/) æ˜¯ä¸€æ¬¾ç»ˆç«¯ Prompt ä¸ªæ€§åŒ–å·¥å…·ï¼Œè™½ç„¶è‚‡å§‹äºåŒç±»å·¥å…· [Oh My Zsh](https://ohmyz.sh/)ï¼Œä½†å½“æ›´æ–°åˆ° 5.0 ç‰ˆæœ¬æ—¶ï¼Œé‡æ–°è®¾è®¡çš„ Oh my posh å·²ç»æ‘†è„±å¹³å°çš„æ¡æ¢ï¼Œæ”¯æŒäº† `Windows`ã€`GNU/Linuxï¼ˆWSLï¼‰`ã€`macOS` ä¸‰ä¸ªç³»ç»Ÿä¸Šçš„ `PowerShell`ã€`bash`ã€`zsh` ç­‰ç»ˆç«¯

æ–¹æ³•1ï¼ˆTakuyaï¼‰ï¼š
```bash
PS C:\Users\XH> Install-Module posh-git -Scope CurrentUser -Force
PS C:\Users\XH> Install-Module oh-my-posh -Scope CurrentUser -Force
PS C:\Users\XH> oh-my-posh
oh-my-posh is not recognized as a name of a cmdlet, function, script file, or executable program
```
æ„Ÿè§‰æ­¤æ–¹æ³•å·²è¿‡æ—¶ã€‚

æ–¹æ³•2ï¼ˆå®˜æ–¹ï¼‰ï¼š
- [æœ€æ–°å®˜æ–¹ windows å®‰è£…æ–¹å¼ä½ ä¹Ÿå¯ä»¥çœ‹è¿™é‡Œ](https://ohmyposh.dev/docs/installation/windows)

å®‰è£…å‘½ä»¤ï¼š
```bash
winget install JanDeDobbeleer.OhMyPosh -s winget
```
æˆ–è€…

```bash
scoop install https://github.com/JanDeDobbeleer/oh-my-posh/releases/latest/download/oh-my-posh.json
```
æˆ–è€…

```bash
Set-ExecutionPolicy Bypass -Scope Process -Force; Invoke-Expression ((New-Object System.Net.WebClient).DownloadString('https://ohmyposh.dev/install.ps1'))
```
å®‰è£…å®Œæˆåï¼Œé‡å¯ `windows terminal`  å³å¯ç”Ÿæ•ˆã€‚

![](https://img-blog.csdnimg.cn/552064424eb143c99b876ee1f31fe4e1.png)
æœ‰ä¸€ç‚¹ä¹±ç ï¼Œåœ¨å®‰è£…fontsæ—¶ï¼Œå¿½ç•¥äº†å­—ä½“é…ç½®å¯¼è‡´ï¼Œæ”¹æˆæ–°å®‰è£…çš„`Hack NFM`å°±å¥½äº†ã€‚
![](https://img-blog.csdnimg.cn/14502f022321492babd26b3383136907.png)


## 11. è‡ªå®šä¹‰ promptï¼ˆpathï¼‰
[è‡ªå®šä¹‰ promptæ–¹æ³•](https://ohmyposh.dev/docs/installation/customize)ä½ å¯ä»¥çœ‹è¿™é‡Œã€‚
åˆå§‹å‘½ä»¤æ ¼å¼ï¼š`oh-my-posh init pwsh --config "$env:POSH_THEMES_PATH\jandedobbeleer.omp.json"`
![](https://img-blog.csdnimg.cn/b604a344ecb54d0caaa313d6cfc5966c.png)

|Name	|Type	|Description|
|--|--|--|
|final_space	|boolean|	å½“ true æ—¶åœ¨æç¤ºæœ«å°¾æ·»åŠ ä¸€ä¸ªç©ºæ ¼
|pwd|	string|	é€šçŸ¥å½“å‰å·¥ä½œç›®å½•çš„ç»ˆç«¯ï¼Œå€¼å¯ä»¥æ˜¯osc99æˆ–osc7å–å†³äºæ‚¨çš„ç»ˆç«¯
|terminal_background|	string|	[color](https://ohmyposh.dev/docs/configuration/colors) - ç»ˆç«¯èƒŒæ™¯é¢œè‰²ï¼Œå½“æ‚¨åœ¨ Windows ç»ˆç«¯æˆ– Visual Studio Code é›†æˆç»ˆç«¯ä¸­æ³¨æ„åˆ°é»‘è‰²å…ƒç´ æ—¶ï¼Œè®¾ç½®ä¸ºç»ˆç«¯çš„èƒŒæ™¯é¢œè‰²
|accent_color|	string	|[color](https://ohmyposh.dev/docs/configuration/colors) - å¼ºè°ƒè‰²ï¼Œå½“accent é¢œè‰²ä¸å—æ”¯æŒæ—¶ç”¨ä½œå›é€€

```bash
$ cat  takuya.omp.json
pwsh> cat .\takuya.omp.json
{
  "$schema": "https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json",
  "version": 2,
  "find_space": true,
  "blocks": [
    {
      "type": "prompt",
      "alignment": "left",
      "segments": [
        {
          "type": "shell",
          "style": "diamond",
          "foreground": "#ffffff",
          "background": "#0077c2",
          "leading_diamond": "> ",
          "trailing_diamond": "",
          "properties": {},
          "template": " {{ .Name }} "
        },
        {
          "type": "root",
          "style": "diamond",
          "foreground": "#fffb38",
          "background": "#ef5350",
          "leading_diamond": "",
          "trailing_diamond": "",
          "properties": {
             "root_icon": "\uf292",
             "prefix": "<parentBackground>\ue0b0</> "
          }
        },
        {
          "type": "path",
          "style": "powerline",
          "powerline_symbol": "\ue0b0",
          "foreground": "#e4e4e4",
          "background": "#444444",
          "properties": {
             "style": "full",
             "enable_hyperlink": true
          }
        },
        {
          "type": "git",
          "style": "powerline",
          "powerline_symbol": "\ue0b0",
          "foreground": "#011627",
          "background": "#fffb38",
          "background_templates": [
             "{{ if or (.Working.Changed) (.Staging.Changed) }}#ffeb95{{ end }}",
             "{{ if and (gt .Ahead 0) (gt .Behind 0) }}#c53478{{ end }}",
             "{{ if gt .Ahead 0 }}#c792ea{{ end }}",
             "{{ if gt .Behind 0 }}#c792ea{{ end }}"
          ],
          "properties": {
             "branch_icon": "\ue725",
             "fetch_status": true,
             "fetch_upstream_icon": true,
             "template": "{{ .HEAD }} {{ if .Working.Changed }}{{ .Working.String }}{{ end }}{{ if and (.Working.Changed) (.Staging.Changed ) }}|{{ end }}{{ if .Staging.Changed }}<#ef5350> \uf046 {{ .Staging.String }}</>{{ end }}"
          }
        }
      ]
    },
    {
      "type": "prompt",
      "alignment": "right",
      "style": "diamond",
      "segments": [
        {
          "type": "node",
          "style": "diamond",
          "leading_diamond": " \ue0b6",
          "trailing_diamond": " \ue0b4",
          "foreground": "#4c873a",
          "background": "#303030",
          "properties": {
            "prefix": "\ue718",
            "postfix": "",
            "display_package_manager": true,
            "yarn_icon": " <#348cba>ğŸ˜¼",
            "npm_icon": " <#cc3a3a>ğŸ‘„</>"
           }
         },
         {
           "type": "time",
           "style": "diamond",
           "invert_powerline": true,
           "leading_diamond": " \ue0b6",
           "trailing_diamond": " \ue0b4",
           "background": "#40c4ff",
           "foreground": "#ffffff",
           "properties": {
           "prefix": " \uf5ef",
           "postfix": " "
            }
          }
       ]
     },
     {
       "type": "prompt",
       "alignment": "left",
       "newline": true,
       "segments": [
        {
          "type": "text",
          "style": "plain",
          "foreground": "#21c7c7",
          "properties": {
             "prefix": "",
             "postfix": "",
             "text": "ï¹‚"
          }
         },
         {
           "type": "exit",
           "style": "plain",
           "foreground": "#e0f8ff",
           "properties": {
              "prefix": "\u276f",
              "display_exit_code": false,
              "always_enabled": true,
              "error_color": "#ef5350"
           }
         }
       ]
     }
   ],
  "osc99": true
}
```
è¾“å‡ºæ•ˆæœ:
![](https://img-blog.csdnimg.cn/fae2033fda944b9589a9d9c02ee4cb3a.png)
ç¼–å†™`user_profile.ps1` æ·»åŠ `oh-my-posh`åŠŸèƒ½è½½å…¥é…ç½®
```bash
$ nvim .\user_profile.ps1
....
# Load prompt config
oh-my-posh --init --shell pwsh --config C:\Users\XH\.config\powershell\takuya.omp.json | Invoke-Expression
....
```
è¿™æ ·ï¼Œåˆ›å»ºæ–°çš„ é€‰é¡¹å¡å°±ä¼šç›´æ¥è½½å…¥è‡ªå®šä¹‰çš„`prompt`ã€‚


## 12. å®‰è£… nodejs

```bash
scoop install nvm
nvm version
nvm install 14.16.0
nvm use 14.16.0
node -v
```

![](https://img-blog.csdnimg.cn/079ab77d8da64427ab301724c3ef2c31.png)

## 13. å®‰è£… Terminal Icons

```bash
Install-Module -Name Terminal-Icons -Repository PSGallery -Force
Import-Module Terminal-Icons
```
è¾“å‡ºæ•ˆæœï¼š
![](https://img-blog.csdnimg.cn/001a7ba774bf4f6dbf73443d6834d50d.png)
ç¼–å†™`user_profile.ps1` æ·»åŠ `Icons`åŠŸèƒ½è½½å…¥é…ç½®

```bash
# Icons
Import-Module -Name Terminal-Icons
```

## 14. å®‰è£… z Directory jumper
zæ¨¡å—æ˜¯å®ç°è·³è½¬ç›®å½•çš„å¿«æ·æ–¹å¼ã€‚
```bash
Install-Module z -force
```

![](https://img-blog.csdnimg.cn/45db060f12054411b2ef8aac02a0c25a.png)
## 15. å®‰è£… PSReadLine 
[PSReadLine](https://github.com/PowerShell/PSReadLine) æ˜¯å¾®è½¯åˆ›å»ºçš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºè‡ªå®šä¹‰ `PowerShell` ä¸­çš„å‘½ä»¤è¡Œç¼–è¾‘ç¯å¢ƒã€‚å®ƒæä¾›äº†å¤§é‡çš„å®šåˆ¶ï¼Œå¯ä»¥æ”¹å˜å‘½ä»¤è¡Œç¼–è¾‘å™¨ä»¥å¤šç§æ–¹å¼å‘ˆç°æ•°æ®çš„æ–¹å¼ã€‚è¿™é‡Œæˆ‘ä»¬å®ç°å®ƒçš„å‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚
```bash
Install-Module -Name PSReadLine -AllowPrerelease -Scope CurrentUser -Force -SkipPublisherCheck
Set-PSReadLineOption -PredictionSource History
Set-PSReadLineOption -PredictionViewStyle ListView
```
è¾“å‡ºæ•ˆæœï¼š
![](https://img-blog.csdnimg.cn/2c90364a77254d79a58e6352590d4ea5.gif#pic_center)ç¼–å†™`user_profile.ps1` æ·»åŠ `PSReadLine`åŠŸèƒ½è½½å…¥é…ç½®

```bash
# PSReadLine
Set-PSReadLineOption -EditMode Emacs
Set-PSReadLineOption -BellStyle None
Set-PSReadLineKeyHandler -Chord 'Ctrl+d' -Function DeleteChar
Set-PSReadLineOption -PredictionSource History
```

## 16. å®‰è£… Fzf - æ¨¡ç³Šæœç´¢
æ¨¡ç³Šæœç´¢å†å²å‘½ä»¤ã€‚
```bash
scoop install fzf
Install-Module -Name PSFzf -Scope CurrentUser -Force
Set-PsFzfOption -PSReadlineChordProvider 'Ctrl+f' -PSReadlineChordReverseHistory 'Ctrl+r'
```

![](https://img-blog.csdnimg.cn/f63e976b89ae4a5095ac53e5da471726.png)

ç¼–å†™`user_profile.ps1` æ·»åŠ `PSFzf`åŠŸèƒ½è½½å…¥é…ç½®

```bash
# Fzf
Set-PsFzfOption -PSReadLineChordProvider 'Ctrl+f' -PSReadlineChordReverseHistory 'Ctrl+r'
```

## 17. é…ç½® which å‘½ä»¤

```bash
# Utilities
function which ($command) {
   Get-Command -Name $command -ErrorAction SilentlyContinue |
      Select-Object -ExpandProperty Path -ErrorAction SilentlyContinue
}
```

## 18. é€‰æ‹© oh-my-posh themes
- [oh-my-posh themes](https://ohmyposh.dev/docs/themes)

æˆ‘å¯ä»¥é€‰æ‹©ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œåœ¨`Windows Terminal` ä¸­æ„‰å¿«æƒ¬æ„çš„å®Œæˆå·¥ä½œã€‚

```bash
 Set-PoshPrompt aliens
 Set-PoshPrompt bubbles
 Set-PoshPrompt cloud-native-azure
 Set-PoshPrompt rudolfs-dark
```

![](https://img-blog.csdnimg.cn/f4533269296845fdbf423a855861367d.png)
å¦‚æœ `Set-PoshPrompt aliens`ä¸»é¢˜æ²¡å˜ï¼Œè¯´æ˜`oh-my-posh`æ²¡æ‰¾åˆ°`themes`åº“
é”™è¯¯ï¼š
![](https://img-blog.csdnimg.cn/9e17bf1a3e224aa8997f63c8d43b7f29.png)
æ‰€æœ‰çš„ themes åœ¨è¿™
```bash
$ ls C:\Users\XH\AppData\Local\Programs\oh-my-posh\themes\

        Directory: C:\Users\XH\AppData\Local\Programs\oh-my-posh\themes


Mode                LastWriteTime         Length Name
----                -------------         ------ ----
-a---        2022-11-14      5:33           3743 î˜‹  1_shell.omp.json
-a---        2022-11-14      5:33           1970 î˜‹  agnoster.minimal.omp.json
-a---        2022-11-14      5:33           1915 î˜‹  agnoster.omp.json
-a---        2022-11-14      5:33           1458 î˜‹  agnosterplus.omp.json
-a---        2022-11-14      5:33           1432 î˜‹  aliens.omp.json
-a---        2022-11-14      5:33           1430 î˜‹  amro.omp.json
-a---        2022-11-14      5:33           9250 î˜‹  atomic.omp.json
-a---        2022-11-14      5:33           6416 î˜‹  atomicBit.omp.json
-a---        2022-11-14      5:33           1161 î˜‹  avit.omp.json
-a---        2022-11-14      5:33           3884 î˜‹  blue-owl.omp.json
-a---        2022-11-14      5:33           3661 î˜‹  blueish.omp.json
-a---        2022-11-14      5:33           5052 î˜‹  bubbles.omp.json
-a---        2022-11-14      5:33           5543 î˜‹  bubblesextra.omp.json
-a---        2022-11-14      5:33           4382 î˜‹  bubblesline.omp.json
-a---        2022-11-14      5:33           1926 î˜‹  capr4n.omp.json
-a---        2022-11-14      5:33           1794 î˜‹  catppuccin_frappe.omp.json
-a---        2022-11-14      5:33           1794 î˜‹  catppuccin_latte.omp.json
-a---        2022-11-14      5:33           1792 î˜‹  catppuccin_macchiato.omp.json
-a---        2022-11-14      5:33           1792 î˜‹  catppuccin_mocha.omp.json
-a---        2022-11-14      5:33           2032 î˜‹  catppuccin.omp.json
-a---        2022-11-14      5:33           1544 î˜‹  cert.omp.json
-a---        2022-11-14      5:33          15690 î˜‹  chips.omp.json
-a---        2022-11-14      5:33           1914 î˜‹  cinnamon.omp.json
-a---        2022-11-14      5:33           4218 î˜‹  clean-detailed.omp.json
-a---        2022-11-14      5:33           6276 î˜‹  cloud-context.omp.json
-a---        2022-11-14      5:33           4937 î˜‹  cloud-native-azure.omp.json
-a---        2022-11-14      5:33           1547 î˜‹  cobalt2.omp.json
-a---        2022-11-14      5:33           3291 î˜‹  craver.omp.json
-a---        2022-11-14      5:33           1310 î˜‹  darkblood.omp.json
-a---        2022-11-14      5:33           7960 ï¡  devious-diamonds.omp.yaml
-a---        2022-11-14      5:33           2362 î˜‹  di4am0nd.omp.json
-a---        2022-11-14      5:33           2330 î˜‹  dracula.omp.json
-a---        2022-11-14      5:33           4914 î˜‹  easy-term.omp.json
-a---        2022-11-14      5:33           3499 î˜‹  emodipt-extend.omp.json
-a---        2022-11-14      5:33           1406 î˜‹  emodipt.omp.json
-a---        2022-11-14      5:33           1392 î˜‹  fish.omp.json
-a---        2022-11-14      5:33           6696 î˜‹  free-ukraine.omp.json
-a---        2022-11-14      5:33           5988 î˜‹  froczh.omp.json
-a---        2022-11-14      5:33           6902 ï¡  glowsticks.omp.yaml
-a---        2022-11-14      5:33           3004 î˜‹  gmay.omp.json
-a---        2022-11-14      5:33           4033 î˜‹  grandpa-style.omp.json
-a---        2022-11-14      5:33           4540 î˜‹  gruvbox.omp.json
-a---        2022-11-14      5:33           1625 î˜‹  half-life.omp.json
-a---        2022-11-14      5:33           1988 î˜‹  honukai.omp.json
-a---        2022-11-14      5:33           1851 î˜‹  hotstick.minimal.omp.json
-a---        2022-11-14      5:33           3358 î˜‹  hul10.omp.json
-a---        2022-11-14      5:33           4011 î˜‹  hunk.omp.json
-a---        2022-11-14      5:33           2366 î˜‹  huvix.omp.json
-a---        2022-11-14      5:33           5331 î˜‹  if_tea.omp.json
-a---        2022-11-14      5:33           2607 î˜‹  illusi0n.omp.json
-a---        2022-11-14      5:33           4389 î˜‹  iterm2.omp.json
-a---        2022-11-14      5:33           7600 î˜‹  jandedobbeleer.omp.json
-a---        2022-11-14      5:33           3462 î˜‹  jblab_2021.omp.json
-a---        2022-11-14      5:33           4437 î˜‹  jonnychipz.omp.json
-a---        2022-11-14      5:33           1145 î˜‹  json.omp.json
-a---        2022-11-14      5:33           2043 î˜‹  jtracey93.omp.json
-a---        2022-11-14      5:33           4679 î˜‹  jv_sitecorian.omp.json
-a---        2022-11-14      5:33           2884 î˜‹  kali.omp.json
-a---        2022-11-14      5:33           5587 î˜‹  kushal.omp.json
-a---        2022-11-14      5:33            752 î˜‹  lambda.omp.json
-a---        2022-11-14      5:33           3853 î˜‹  lambdageneration.omp.json
-a---        2022-11-14      5:33           3602 î˜‹  larserikfinholt.omp.json
-a---        2022-11-14      5:33           5126 î˜‹  lightgreen.omp.json
-a---        2022-11-14      5:33           2787 î˜‹  M365Princess.omp.json
-a---        2022-11-14      5:33           2090 î˜‹  marcduiker.omp.json
-a---        2022-11-14      5:33           4039 î˜‹  markbull.omp.json
-a---        2022-11-14      5:33           1281 î˜‹  material.omp.json
-a---        2022-11-14      5:33           2610 î˜‹  microverse-power.omp.json
-a---        2022-11-14      5:33           4717 î˜‹  mojada.omp.json
-a---        2022-11-14      5:33           3338 î˜‹  montys.omp.json
-a---        2022-11-14      5:33           1899 î˜‹  mt.omp.json
-a---        2022-11-14      5:33           3520 î˜‹  multiverse-neon.omp.json
-a---        2022-11-14      5:33           3192 î˜‹  negligible.omp.json
-a---        2022-11-14      5:33           1656 î˜‹  neko.omp.json
-a---        2022-11-14      5:33          14854 î˜‹  night-owl.omp.json
-a---        2022-11-14      5:33           2305 î˜‹  nordtron.omp.json
-a---        2022-11-14      5:33           2670 î˜‹  nu4a.omp.json
-a---        2022-11-14      5:33           2116 î˜‹  onehalf.minimal.omp.json
-a---        2022-11-14      5:33           2101 î˜‹  paradox.omp.json
-a---        2022-11-14      5:33           1646 î˜‹  pararussel.omp.json
-a---        2022-11-14      5:33           2448 î˜‹  patriksvensson.omp.json
-a---        2022-11-14      5:33           3484 î˜‹  peru.omp.json
-a---        2022-11-14      5:33           4557 î˜‹  pixelrobots.omp.json
-a---        2022-11-14      5:33           2728 î˜‹  plague.omp.json
-a---        2022-11-14      5:33           4121 î˜‹  poshmon.omp.json
-a---        2022-11-14      5:33           2326 î˜‹  powerlevel10k_classic.omp.json
-a---        2022-11-14      5:33           1042 î˜‹  powerlevel10k_lean.omp.json
-a---        2022-11-14      5:33           2829 î˜‹  powerlevel10k_modern.omp.json
-a---        2022-11-14      5:33           6834 î˜‹  powerlevel10k_rainbow.omp.json
-a---        2022-11-14      5:33           1624 î˜‹  powerline.omp.json
-a---        2022-11-14      5:33           1499 î˜‹  probua.minimal.omp.json
-a---        2022-11-14      5:33           2465 î˜‹  pure.omp.json
-a---        2022-11-14      5:33           4053 î˜‹  quick-term.omp.json
-a---        2022-11-14      5:33           1324 î˜‹  remk.omp.json
-a---        2022-11-14      5:33            995 î˜‹  robbyrussel.omp.json
-a---        2022-11-14      5:33           1981 î˜‹  rudolfs-dark.omp.json
-a---        2022-11-14      5:33           1981 î˜‹  rudolfs-light.omp.json
-a---        2022-11-14      5:33          98787 î˜‹  schema.json
-a---        2022-11-14      5:33           2105 î˜‹  sim-web.omp.json
-a---        2022-11-14      5:33           5906 î˜‹  slim.omp.json
-a---        2022-11-14      5:33           5803 î˜‹  slimfat.omp.json
-a---        2022-11-14      5:33           2876 î˜‹  smoothie.omp.json
-a---        2022-11-14      5:33           3682 î˜‹  sonicboom_dark.omp.json
-a---        2022-11-14      5:33           3682 î˜‹  sonicboom_light.omp.json
-a---        2022-11-14      5:33           1496 î˜‹  sorin.omp.json
-a---        2022-11-14      5:33           2562 î˜‹  space.omp.json
-a---        2022-11-14      5:33           1250 î˜‹  spaceship.omp.json
-a---        2022-11-14      5:33           1768 î˜‹  star.omp.json
-a---        2022-11-14      5:33           3652 î˜‹  stelbent-compact.minimal.omp.json
-a---        2022-11-14      5:33           3628 î˜‹  stelbent.minimal.omp.json
-a---        2022-11-14      5:33           3423 î˜‹  takuya.omp.json
-a---        2022-11-14      5:33           1779 î˜‹  the-unnamed.omp.json
-a---        2022-11-14      5:33           3240 î˜‹  thecyberden.omp.json
-a---        2022-11-14      5:33           3840 î˜‹  tiwahu.omp.json
-a---        2022-11-14      5:33           3491 î˜‹  tokyo.omp.json
-a---        2022-11-14      5:33           3961 î˜‹  tokyonight_storm.omp.json
-a---        2022-11-14      5:33           1552 î˜‹  tonybaloney.omp.json
-a---        2022-11-14      5:33           3540 î˜‹  uew.omp.json
-a---        2022-11-14      5:33           2970 î˜‹  unicorn.omp.json
-a---        2022-11-14      5:33           5291 î˜‹  velvet.omp.json
-a---        2022-11-14      5:33           4411 î˜‹  wholespace.omp.json
-a---        2022-11-14      5:33           2817 î˜‹  wopian.omp.json
-a---        2022-11-14      5:33           1371 î˜‹  xtoys.omp.json
-a---        2022-11-14      5:33           2206 î˜‹  ys.omp.json
-a---        2022-11-14      5:33           1149 î˜‹  zash.omp.json
```
åªéœ€å¤åˆ¶`themes`ç›®å½•å³å¯ï¼š

```bash
cp -r  C:\Users\XH\AppData\Local\Programs\oh-my-posh\themes C:\Users\XH\AppData\Local\oh-my-posh\
```

å‚è€ƒ:
- [oh my posh](https://ohmyposh.dev/)
- [windows terminal](https://github.com/microsoft/terminal)
- [Windows Terminal Docs](https://learn.microsoft.com/en-us/windows/terminal/)
- [How to set up PowerShell prompt with Oh My Posh on Windows 11](https://www.youtube.com/watch?v=5-aK2_WwrmM&t=1152s)
